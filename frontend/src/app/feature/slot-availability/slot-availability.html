<div class="container mt-4">

  <!-- Provider Dropdown -->
  <div class="mb-3">
  <label for="providerSelect" class="form-label">
    Select Provider
  </label>

  <select
    id="providerSelect"
    class="form-select"
    [(ngModel)]="selectedProviderId"
    (change)="checkAvailability()">
    
    <option value="">-- Select Provider --</option>

    @for (p of providers; track p.id) {
      <option [value]="p.id">
        {{ p.name }} ({{ p.specialization }})
      </option>
    }
  </select>
</div>


  <!-- Date Picker -->
  <div class="mb-3">
  <label for="dateSelect" class="form-label">
    Select Date
  </label>

  <input
    id="dateSelect"
    type="date"
    class="form-control"
    [(ngModel)]="selectedDate"
    (change)="checkAvailability()" />
</div>


  <!-- Loading -->
  @if (loading) {
    <div class="mt-3">
      Loading slots...
    </div>
  }

  <!-- Error -->
  @if (errorMessage) {
    <div class="text-danger mt-3">
      {{ errorMessage }}
    </div>
  }

  <!-- Slots -->
  @if (slots.length > 0) {
    <div class="row mt-4">
      @for (slot of slots; track slot.id) {
        <div class="col-md-3 mb-3">
          <button class="btn w-100"
                  [ngClass]="slot.status === 'AVAILABLE' ? 'btn-success' : 'btn-secondary'"
                  [disabled]="slot.status !== 'AVAILABLE'"
                  (click)="selectSlot(slot)">
            {{ slot.startTime }} - {{ slot.endTime }}
          </button>
        </div>
      }
    </div>
  }

</div>
